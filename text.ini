[Rainmeter]
Update=1000
DynamicWindowSize=1
AccurateText=1

[Variables]
; Styling
TextColor=255,255,255
FontName=Segoe UI
TextSize=9.5
; Update interval in milliseconds (20 seconds = 20000)
UpdateInterval=20000
; Dynamic variables set by Lua
CurrentSentence=Loading...
SetNumber=1
SentenceIndex=1/15

; ========================================
; LUA SCRIPT
; ========================================
[MeasureLua]
Measure=Script
ScriptFile=#CURRENTPATH#Sentences.lua
UpdateDivider=20

; ========================================
; 1. INVISIBLE METER 
; (Calculates size first so background knows how big to be)
; ========================================
[MeterSizeCalc]
Meter=String
MeasureName=MeasureLua
Text=[MeasureLua]
FontFace=#FontName#
FontSize=#TextSize#
FontColor=0,0,0,0
AntiAlias=1
StringAlign=Left
StringStyle=Bold
X=10
Y=5
DynamicVariables=1

; ========================================
; 2. BACKGROUND 
; (Draws behind text, using the calculated size)
; ========================================
[MeterBackground]
Meter=Shape
Shape=Rectangle 2,3,([MeterSizeCalc:W]+20),([MeterSizeCalc:H]+5),5 | Fill Color 25,25,25,255 | StrokeWidth 0
DynamicVariables=1
X=0
Y=0

; ========================================
; 3. VISIBLE TEXT 
; (Draws on top)
; ========================================
[MeterText]
Meter=String
MeasureName=MeasureLua
Text=[MeasureLua]
FontFace=#FontName#
FontSize=#TextSize#
FontColor=#TextColor#
AntiAlias=1
StringAlign=Left
StringStyle=Bold
; Removed fixed W=600 so it can shrink/grow
X=10
Y=5
DynamicVariables=1

; ========================================
; NAVIGATION
; ========================================
[MeterSetInfo]
; Meter=String
; Text=Set #SetNumber# â€¢ #SentenceIndex# | #CurrentSentence#
; FontFace=#FontName#
; FontSize=9
; FontColor=180,180,180,0
; AntiAlias=1
; StringAlign=Left
; X=10
; Y=R
; DynamicVariables=1

[Rainmeter]
ContextTitle=Next Sentence
ContextAction=[!CommandMeasure MeasureLua "Update()"][!UpdateMeasure MeasureLua][!UpdateMeter *][!Redraw]
ContextTitle2=Restart Set
ContextAction2=[!CommandMeasure MeasureLua "Initialize()"][!UpdateMeasure MeasureLua][!UpdateMeter *][!Redraw]